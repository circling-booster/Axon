"use strict";const n=require("electron");function p(e=["complete","interactive"]){return new Promise(i=>{e.includes(document.readyState)?i(!0):document.addEventListener("readystatechange",()=>{e.includes(document.readyState)&&i(!0)})})}const t={append(e,i){if(!Array.from(e.children).find(o=>o===i))return e.appendChild(i)},remove(e,i){if(Array.from(e.children).find(o=>o===i))return e.removeChild(i)}};function a(){const e="loaders-css__square-spin",i=`
@keyframes square-spin {
  25% { transform: perspective(100px) rotateX(180deg) rotateY(0); }
  50% { transform: perspective(100px) rotateX(180deg) rotateY(180deg); }
  75% { transform: perspective(100px) rotateX(0) rotateY(180deg); }
  100% { transform: perspective(100px) rotateX(0) rotateY(0); }
}
.${e} > div {
  animation-fill-mode: both;
  width: 50px;
  height: 50px;
  background: #fff;
  animation: square-spin 3s 0s cubic-bezier(0.09, 0.57, 0.49, 0.9) infinite;
}
.app-loading-wrap {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #282c34;
  z-index: 9;
}
    `,o=document.createElement("style"),r=document.createElement("div");return o.id="app-loading-style",o.innerHTML=i,r.className="app-loading-wrap",r.innerHTML=`<div class="${e}"><div></div></div>`,{appendLoading(){t.append(document.head,o),t.append(document.body,r)},removeLoading(){t.remove(document.head,o),t.remove(document.body,r)}}}if(window.parent===window){const{appendLoading:e,removeLoading:i}=a();p().then(e),window.onmessage=o=>{o.data.payload==="removeLoading"&&i()},setTimeout(i,12e4)}n.contextBridge.exposeInMainWorld("ipcRenderer",{on(...e){const[i,o]=e;return n.ipcRenderer.on(i,(r,...d)=>o(r,...d))},off(...e){const[i,...o]=e;return n.ipcRenderer.off(i,...o)},send(...e){const[i,...o]=e;return n.ipcRenderer.send(i,...o)},invoke(...e){const[i,...o]=e;return n.ipcRenderer.invoke(i,...o)},onReceivePort:e=>{const i=(o,r)=>e(r);return n.ipcRenderer.on("app-port",i),()=>n.ipcRenderer.off("app-port",i)},onReceiveInstallHostDependenciesLog:e=>{const i=(o,r)=>e(r);return n.ipcRenderer.on("install-host-dependencies-log",i),()=>n.ipcRenderer.off("install-host-dependencies-log",i)},fillPathToConfig:e=>n.ipcRenderer.invoke("util:fillPathToConfig",e),download:e=>n.ipcRenderer.invoke("util:download",{url:e}),copyImage:e=>n.ipcRenderer.invoke("util:copyimage",e),getModelSettings:()=>n.ipcRenderer.invoke("util:getModelSettings"),setModelSettings:e=>n.ipcRenderer.invoke("util:setModelSettings",e),refreshConfig:()=>n.ipcRenderer.invoke("util:refreshConfig"),getInstallHostDependenciesLog:()=>n.ipcRenderer.invoke("util:getInstallHostDependenciesLog"),getClientInfo:()=>n.ipcRenderer.invoke("util:getClientInfo"),checkCommandExist:e=>n.ipcRenderer.invoke("util:checkCommandExist",e),readLocalFile:e=>n.ipcRenderer.invoke("util:readLocalFile",e),openScriptsDir:()=>n.ipcRenderer.invoke("system:openScriptsDir"),getAutoLaunch:()=>n.ipcRenderer.invoke("system:getAutoLaunch"),setAutoLaunch:e=>n.ipcRenderer.invoke("system:setAutoLaunch",e),getMinimalToTray:()=>n.ipcRenderer.invoke("system:getMinimalToTray"),setMinimalToTray:e=>n.ipcRenderer.invoke("system:setMinimalToTray",e),closeWindow:()=>n.ipcRenderer.invoke("system:closeWindow"),hideWindow:()=>n.ipcRenderer.invoke("system:hideWindow"),openaiModelList:e=>n.ipcRenderer.invoke("llm:openaiModelList",e),openaiCompatibleModelList:(e,i)=>n.ipcRenderer.invoke("llm:openaiCompatibleModelList",e,i),anthropicModelList:(e,i)=>n.ipcRenderer.invoke("llm:anthropicModelList",e,i),ollamaModelList:e=>n.ipcRenderer.invoke("llm:ollamaModelList",e),googleGenaiModelList:e=>n.ipcRenderer.invoke("llm:googleGenaiModelList",e),mistralaiModelList:e=>n.ipcRenderer.invoke("llm:mistralaiModelList",e),bedrockModelList:(e,i,o,r)=>n.ipcRenderer.invoke("llm:bedrockModelList",e,i,o,r),azureOpenaiModelList:(e,i,o,r)=>n.ipcRenderer.invoke("llm:azureOpenaiModelList",e,i,o,r),showSelectionContextMenu:()=>n.ipcRenderer.invoke("show-selection-context-menu"),showInputContextMenu:()=>n.ipcRenderer.invoke("show-input-context-menu"),getPlatform:()=>n.ipcRenderer.invoke("env:getPlatform"),port:()=>n.ipcRenderer.invoke("env:port"),getResourcesPath:e=>n.ipcRenderer.invoke("env:getResourcesPath",e),isDev:()=>n.ipcRenderer.invoke("env:isDev"),oapLogin:e=>n.ipcRenderer.invoke("oap:login",e),oapLogout:()=>n.ipcRenderer.invoke("oap:logout"),oapGetToken:()=>n.ipcRenderer.invoke("oap:getToken"),oapSearchMCPServer:e=>n.ipcRenderer.invoke("oap:searchMCPServer",e),oapModelDescription:e=>n.ipcRenderer.invoke("oap:modelDescription",e),oapApplyMCPServer:e=>n.ipcRenderer.invoke("oap:applyMCPServer",e),oapGetMCPServers:()=>n.ipcRenderer.invoke("oap:getMCPServers"),oapGetMe:()=>n.ipcRenderer.invoke("oap:getMe"),oapGetUsage:()=>n.ipcRenderer.invoke("oap:getUsage"),oapLimiterCheck:e=>n.ipcRenderer.invoke("oap:limiterCheck",e),oapGetMCPTags:()=>n.ipcRenderer.invoke("oap:getMCPTags"),oapRegistEvent:(e,i)=>(n.ipcRenderer.on(`oap:${e}`,i),()=>n.ipcRenderer.off(`oap:${e}`,i)),listenRefresh:e=>(n.ipcRenderer.on("refresh",e),()=>n.ipcRenderer.off("refresh",e)),listenMcpApply:e=>{const i=(o,r)=>e(r);return n.ipcRenderer.on("mcp.install",i),()=>n.ipcRenderer.off("mcp.install",i)},responsedIPCElicitation:(e,i)=>n.ipcRenderer.invoke("lipc:elicitation",e,i),listenIPCElicitationRequest:e=>{const i=(o,r)=>e(r);return n.ipcRenderer.on("mcp.elicitation",i),()=>n.ipcRenderer.off("mcp.elicitation",i)}});
